@page "/"
@inject PortfolioService PortfolioService

<PageTitle>Andrew McKinney - Lead Software Engineer</PageTitle>

<HeroSection Title="Andrew McKinney" Subtitle="Lead Software Engineer building impactful digital experiences.">
    <a href="#projects" class="btn btn-primary">View Projects</a>
    <a href="#contact" class="btn btn-outline">Contact Me</a>
</HeroSection>

<SectionContainer Title="Projects" IsAlt="true" id="projects">
    <div class="grid grid-cols-2">
        @foreach (var project in _projects)
        {
            <ProjectCard Project="project" />
        }
    </div>
</SectionContainer>

<SectionContainer Title="Skills" id="skills">
    <div class="grid grid-cols-2">
        @foreach (var categoryGroup in _skills.GroupBy(s => s.Category))
        {
            <div>
                <h3>@categoryGroup.Key</h3>
                <div>
                    @foreach (var skill in categoryGroup)
                    {
                        <SkillTag>@skill.Name</SkillTag>
                    }
                </div>
            </div>
        }
    </div>
</SectionContainer>

@code {
    private List<ProjectModel> _projects = new();
    private List<SkillModel> _skills = new();

    protected override async Task OnInitializedAsync()
    {
        _projects = await PortfolioService.GetProjectsAsync();
        _skills = await PortfolioService.GetSkillsAsync();
    }
}

<SectionContainer Title="About" IsAlt="true" id="about">
    <div style="text-align: center;">
        <img src="images/head_portrait.jpg" style="width: 15%; min-width: 150px; border-radius: 50%; margin-bottom: var(--spacing-lg);">
        <p style="max-width: 800px; margin: 0 auto;">
            Hello! My name is Drew McKinney, and I like to build cool stuff.
            I have a background in Chemical Engineering and worked previously in the aerospace industry; 
            my work still involves clouds, but these are slightly different and arguably bigger.
            I'm a visionary developer and experienced engineer that likes to innovate and think outside of the box,
            and I <strong>love</strong> a well-built and efficient product.
        </p>
        <p style="max-width: 800px; margin: var(--spacing-md) auto 0;">
            I enjoy outdoor activities such as mountain biking, backpacking, bouldering and soccer almost as much as I love basement dwelling playing video games and 
            building my next <code>get-rich-quick</code> application.
            I am currently living in Music City - Nashville, Tennessee.
        </p>
        <div style="margin-top: var(--spacing-lg);">
            <a href="https://docs.google.com/document/d/1cxvXRYUx22JToneTeXtjyH7qwi3U7OaX/edit?usp=sharing" target="_blank" class="btn btn-primary">View Resume</a>
        </div>
    </div>
</SectionContainer>

<SectionContainer Title="Contact" id="contact">
    <div style="max-width: 600px; margin: 0 auto;">
         <form method="post" action="https://mailtome.armckinney.dev/?recipient=andrewryanmckinney.com">
            <div style="display: grid; gap: var(--spacing-md);">
                <input type="text" name="Name" placeholder="Name" style="padding: var(--spacing-sm); border-radius: var(--spacing-xs); border: 1px solid var(--color-border);" />
                <input type="email" name="sender" placeholder="Email" style="padding: var(--spacing-sm); border-radius: var(--spacing-xs); border: 1px solid var(--color-border);" />
                <input type="text" name="Subject" placeholder="Subject" style="padding: var(--spacing-sm); border-radius: var(--spacing-xs); border: 1px solid var(--color-border);" />
                <textarea name="Message" placeholder="Enter your message" rows="6" style="padding: var(--spacing-sm); border-radius: var(--spacing-xs); border: 1px solid var(--color-border); font-family: sans-serif;"></textarea>
                <div>
                     <input type="checkbox" id="demo-human" name="Human">
                     <label for="demo-human">Not a robot</label>
                </div>
                <div>
                    <input type="submit" value="Send Message" class="btn btn-primary" />
                </div>
            </div>
        </form>
         <div style="text-align: center; margin-top: var(--spacing-md);">
             <small><a href="https://mailtome.armckinney.dev" target="_blank" style="color: var(--color-text-secondary);">Powered by Mail-To-Me</a></small>
         </div>
    </div>
</SectionContainer>
